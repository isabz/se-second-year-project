<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<link rel="stylesheet" href="./css/mammal.css">
		<title></title>
			<script>
			window.onload = function () {
			
			var chart = new CanvasJS.Chart("chartContainer", {
				animationEnabled: true,
				theme: "light2",
				title:{
					text: "Image sequences"
				},
				axisX:{
					valueFormatString: "DD MMM",
					crosshair: {
						enabled: true,
						snapToDataPoint: true
					}
				},
				axisY: {
					title: "Number of Camera-days",
					includeZero: true,
					crosshair: {
						enabled: true
					}
				},
				toolTip:{
					shared:true
				},  
				legend:{
					cursor:"pointer",
					verticalAlign: "bottom",
					horizontalAlign: "left",
					dockInsidePlotArea: true,
					itemclick: toogleDataSeries
				},
				data: [{
					type: "line",
					showInLegend: true,
					name: "all-time",
					markerType: "square",
					xValueFormatString: "DD MMM, YYYY",
					color: "#F08080",
					dataPoints: [
						{ x: new Date(2017, 0, 3), y: 650 },
						{ x: new Date(2017, 0, 4), y: 700 },
						{ x: new Date(2017, 0, 5), y: 710 },
						{ x: new Date(2017, 0, 6), y: 658 },
					]
				},
				{
					type: "line",
					showInLegend: true,
					name: "within last 12 months",
					lineDashType: "dash",
					dataPoints: [
						{ x: new Date(2017, 0, 3), y: 510 },
						{ x: new Date(2017, 0, 4), y: 560 },
						{ x: new Date(2017, 0, 5), y: 540 },
						{ x: new Date(2017, 0, 6), y: 558 },
						{ x: new Date(2017, 0, 7), y: 544 },
					]
				}]
			});
			chart.render();
			
			function toogleDataSeries(e){
				if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
					e.dataSeries.visible = false;
				} else{
					e.dataSeries.visible = true;
				}
				chart.render();
			}
			
			}
			</script>
		<script>

			function datastring(object){
				for (const x in object){
					return x + ": " + object[x]
				}
			}
			
			const xhttp = new XMLHttpRequest();

			xhttp.onload = function() {
				data = JSON.parse(this.responseText);
				console.log(data);
				document.getElementById("is1").innerHTML = datastring(data[0][0]);
				document.getElementById("is2").innerHTML = datastring(data[1][0]);
			}

			xhttp.open("GET", "imgseq");
			xhttp.send();

		</script>
	</head>
	<body class="kuang">
		<header>
			<nav class="kuang1">
				<ul>
					<li class="li"><a href="#">HOME</a></li>
					<li class="li"><a href="#">ABOUT</a></li>
					<li class="li"><a href="#">GET STARTED</a></li>
					<li class="li"><a href="#">PROJECTS</a></li>
					<li class="li"><a href="#">CONTRIBUTE</a></li>
					<li class="li"><a href="#">LEARN</a></li>
					<li class="li"><a href="#">COMMUNITY</a></li>
					<li class="li"><a href="#">LOGIN</a></li>
					<li class="li1"><a href="http://127.0.0.1:8848/kpi1.html">KPIS</a></li>
				</ul>				
			</nav>
			<nav class="kuang2">
				<ul>
					<li><a href="http://127.0.0.1:8848/kpi1.html">Citizen Scientists</a></li>
					<li><a href="http://127.0.0.1:8848/kpi2.html">Image Sequences</a></li>
					<li><a href="http://127.0.0.1:8848/kpi3.html">Classification</a></li>
					<li><a href="http://127.0.0.1:8848/kpi4.html">Data Coverage</a></li>
					<li><a href="http://127.0.0.1:8848/kpi5.html">Impact</a></li>
					<li><a href="http://127.0.0.1:8848/kpi6.html">Funding</a></li>
				</ul>
			</nav>
			<div class="da">
				<div class="is1" id="is1">
				<!-- two line chart -->
					<div id="chartContainer" style="height: 370px; width: 100%;"></div>
					<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
				</div>
				<div class="is2" id="is2">data2</div>
			</div>
			
		</header>

	</body>
</html>
